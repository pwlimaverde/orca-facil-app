# Overview
A aplicação **OrcaFacilApp** (Gerenciador Simples de Orçamentos) é uma **pequena aplicação** Android Nativa, desenvolvida com o objetivo de proporcionar a imersão no ambiente profissional e desenvolver senso crítico para resolução de problemas.
O sistema resolve o problema de rastreamento de custos, permitindo que o usuário cadastre produtos, valores e quantidades para calcular e armazenar múltiplos orçamentos de forma persistente.

# Core Features
- **Gerenciamento de Múltiplos Orçamentos (RF1.0)**
  - Suportar a criação, visualização e armazenamento de vários registros `Budget`.
  - Persistência de dados utilizando Room.

- **Cálculo de Custos (RF3.0, RF5.0)**
  - Cálculo do Subtotal por item ($Valor\ Unitário \times Quantidade$).
  - Cálculo e atualização automática do `valor_estimado_total` do Orçamento ao adicionar itens.

- **Visualização e Listagem (RF6.0, RF7.0)**
  - Tela inicial com lista de orçamentos salvos (Nome e Valor Total).
  - Tela de detalhes exibindo itens do orçamento e total acumulado.

# User Experience
O fluxo do usuário é dividido em 4 telas principais:

- **Tela 1: Lista de Orçamentos (Home)**
  - Exibe `RecyclerView` com orçamentos cadastrados.
  - Ações: Clicar em um orçamento para ver detalhes (→ Tela 3) ou criar um Novo Orçamento (→ Tela 2).

- **Tela 2: Cadastro de Orçamento**
  - Formulário simples para inserir `Nome` e `Descrição` do orçamento.
  - Ação: Botão "Salvar" persiste o orçamento e redireciona para a lista de itens (→ Tela 3).

- **Tela 3: Detalhes do Orçamento Ativo**
  - Exibe o `Valor Estimado Total` atualizado.
  - Lista (`RecyclerView`) os itens pertencentes a este orçamento.
  - Ação: Botão para Adicionar Novo Item (→ Tela 4).

- **Tela 4: Cadastro de Novo Item**
  - Formulário para `Nome do Produto`, `Valor Unitário` e `Quantidade`.
  - Lógica: Realiza o cálculo do subtotal e atualiza o total do orçamento.
  - Ação: Botão "Adicionar Item" salva e retorna à Tela 3.

# Technical Architecture
- **Plataforma**: Android Nativo (Minimum SDK: API 28 "Pie").
- **Linguagem**: Kotlin (Build Config: Kotlin DSL).
- **Persistência**: SQLite via **Room Persistence Library**.
- **Interface**: Utilização de `RecyclerView` para listagens.

## Modelagem de Dados

**Entidade: Orçamento (`Budget`)**
- `id`: Integer (PK)
- `nome`: String
- `descricao`: String
- `valor_estimado_total`: Float/Double

**Entidade: Item de Orçamento (`BudgetItem`)**
- `id`: Integer (PK)
- `budget_id`: Integer (FK - Vínculo com Orçamento)
- `valor_unitario`: Float/Double
- `quantidade`: Integer/Float
- `subtotal`: Float/Double

# Development Roadmap
- **Fase 1: Fundamentos e Persistência**
  - Configuração do projeto e dependências (Room, RecyclerView).
  - Implementação das Entidades (`Budget`, `BudgetItem`) e DAOs.
  - Configuração do Banco de Dados Room.

- **Fase 2: Gerenciamento de Orçamentos (MVP Parcial)**
  - Implementação da Tela 1 (Lista de Orçamentos) com RecyclerView.
  - Implementação da Tela 2 (Cadastro de Orçamento) e persistência básica.

- **Fase 3: Itens e Cálculos (MVP Completo)**
  - Implementação da Tela 3 (Detalhes do Orçamento).
  - Implementação da Tela 4 (Cadastro de Item).
  - Implementação da lógica de negócios: Cálculos de subtotal e atualização do total geral.

- **Fase 4: Refinamento e Testes**
  - Verificação dos fluxos de navegação.
  - Testes manuais de persistência e cálculos.
  - Ajustes finais de UI/UX.

# Logical Dependency Chain
1. **Camada de Dados**: A configuração do Room e das Entidades deve ser a primeira etapa, pois todas as telas dependem da estrutura de dados.
2. **Fluxo de Orçamento**: A criação de orçamentos (Tela 2) é pré-requisito para a existência de itens.
3. **Fluxo de Itens**: A adição de itens (Tela 4) depende de um orçamento existente e impacta a visualização da Tela 3 e Tela 1 (atualização de totais).

# Risks and Mitigations
- **Complexidade Relacional**: Gerenciar a relação 1:N entre Orçamento e Itens pode ser complexo para iniciantes.
  - *Mitigação*: Utilizar anotações do Room corretamente (`@Relation` ou querys específicas) e testar queries isoladamente.
- **Atualização de UI**: Garantir que a lista e os totais sejam atualizados ao retornar de uma tela de cadastro.
  - *Mitigação*: Utilizar `onResume` para recarregar dados ou Observables (LiveData/Flow) se aplicável, mantendo a simplicidade focada no objetivo educacional.

# Appendix
- **Nome do Projeto**: OrcaFacilApp
- **Package Name**: `com.pwlimaverde.orcafacilapp`
- **Objetivo**: Educacional, demonstrando competências em desenvolvimento Android nativo e análise de sistemas.
